import { useMessage } from '@/hooks/useMessage';

export const defaultEmojis = [
  '666',
  '吃瓜',
  '發',
  '嘿哈',
  '恐惧',
  '难过',
  '色',
  '偷笑',
  '嘘',
  '再见',
  '爱心',
  '呲牙',
  '翻白眼',
  '红包',
  '抠鼻',
  '啤酒',
  '社会社会',
  '吐',
  '烟花',
  '炸弹',
  '傲慢',
  '打脸',
  '福',
  '坏笑',
  '骷髅',
  '撇嘴',
  '生病',
  '哇',
  '耶',
  '咒骂',
  '白眼',
  '大哭',
  '尴尬',
  '机智',
  '苦涩',
  '破涕为笑',
  '胜利',
  '旺柴',
  '疑问',
  '皱眉',
  '抱拳',
  '蛋糕',
  '勾引',
  '加油',
  '快哭了',
  '强',
  '失望',
  '微笑',
  '阴险',
  '猪头',
  '爆竹',
  '得意',
  '鼓掌',
  '奸笑',
  '困',
  '敲打',
  '衰',
  '委屈',
  '拥抱',
  '抓狂',
  '鄙视',
  '凋谢',
  '害羞',
  '惊恐',
  '礼物',
  '亲亲',
  '睡',
  '握手',
  '悠闲',
  '转圈',
  '闭嘴',
  '调皮',
  '憨笑',
  '惊讶',
  '脸红',
  '庆祝',
  '太阳',
  '无语',
  '右哼哼',
  '嘴唇',
  '便便',
  '发呆',
  '汗',
  '囧',
  '裂开',
  '拳头',
  '叹气',
  '捂脸',
  '愉快',
  'Emm',
  '擦汗',
  '发抖',
  '好的',
  '咖啡',
  '流泪',
  '让我看看',
  '天啊',
  '笑脸',
  '月亮',
  'OK',
  '菜刀',
  '发怒',
  '合十',
  '可怜',
  '玫瑰',
  '弱',
  '跳跳',
  '心碎',
  '晕'
];

export function fillEmoji(text: string) {
  if (!text) return '[空]';
  return text.replace(/\[([^\[\]]+)\]/g, (match, key) => {
    if (defaultEmojis.includes(key)) {
      return `<img src="./emoji/${key}.png" alt="${key}" class="emoji" />`;
    }
    return match;
  });
}

const { invoke } = useMessage();

export function getEmojiList() {
  return invoke('getEmojis', { count: 0 });
}
